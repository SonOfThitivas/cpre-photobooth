2024-09-25 00:00:11,167 [   DEBUG] loggingservice __init__ finished (loggingservice.py:113)
2024-09-25 00:00:11,167 [   DEBUG] registered handlers: [<StreamHandler <stderr> (NOTSET)>, <FileHandler D:\vscode-files\cpre_openhouse\photobooth-data\log\photobooth_20240925.log (NOTSET)>, <EventstreamLogHandler (NOTSET)>] (loggingservice.py:114)
2024-09-25 00:00:11,168 [    INFO] init database and creating missing scaled images. this might take some time. (mediacollectionservice.py:60)
2024-09-25 00:00:11,168 [    INFO] watching for filetypes: ['.jpg', '.gif', '.mp4'] (mediacollectionservice.py:63)
2024-09-25 00:00:11,169 [    INFO] initialized image DB, added 0 valid images (mediacollectionservice.py:79)
2024-09-25 00:00:11,175 [    INFO] -- process time: 0.01s to initialize mediacollection (mediacollectionservice.py:80)
2024-09-25 00:00:11,181 [    INFO] platform.system()='Windows' (informationservice.py:116)
2024-09-25 00:00:11,181 [    INFO] platform.uname()=uname_result(system='Windows', node='karn-laptop', release='10', version='10.0.22631', machine='AMD64') (informationservice.py:117)
2024-09-25 00:00:11,181 [    INFO] platform.release()='10' (informationservice.py:118)
2024-09-25 00:00:11,181 [    INFO] platform.machine()='AMD64' (informationservice.py:119)
2024-09-25 00:00:11,181 [    INFO] platform.python_version()='3.11.8' (informationservice.py:120)
2024-09-25 00:00:11,182 [    INFO] platform.node()='karn-laptop' (informationservice.py:121)
2024-09-25 00:00:11,182 [    INFO] self._gather_model()='unknown' (informationservice.py:122)
2024-09-25 00:00:11,182 [    INFO] psutil.cpu_count()=16 (informationservice.py:123)
2024-09-25 00:00:11,182 [    INFO] psutil.cpu_count(logical=False)=8 (informationservice.py:124)
2024-09-25 00:00:11,182 [    INFO] psutil.disk_partitions()=[sdiskpart(device='C:\\', mountpoint='C:\\', fstype='NTFS', opts='rw,fixed'), sdiskpart(device='D:\\', mountpoint='D:\\', fstype='NTFS', opts='rw,fixed')] (informationservice.py:125)
2024-09-25 00:00:11,183 [    INFO] psutil.disk_usage('C:')=sdiskusage(total=241915916288, used=225202089984, free=16713826304, percent=93.1) (informationservice.py:129)
2024-09-25 00:00:11,189 [    INFO] [('Ethernet 2', ['192.168.111.2']), ('Ethernet', ['169.254.167.231']), ('Local Area Connection* 1', ['169.254.199.85']), ('Local Area Connection* 2', ['169.254.4.248']), ('Wi-Fi', ['192.168.1.33']), ('Loopback Pseudo-Interface 1', ['127.0.0.1'])] (informationservice.py:130)
2024-09-25 00:00:11,195 [    INFO] psutil.virtual_memory()=svmem(total=14877257728, available=5826072576, percent=60.8, used=9051185152, free=5826072576) (informationservice.py:139)
2024-09-25 00:00:11,195 [    INFO] __debug__=True (informationservice.py:141)
2024-09-25 00:00:11,195 [    INFO] initialized information service (informationservice.py:143)
2024-09-25 00:00:11,195 [    INFO] initialized systemservice (systemservice.py:30)
2024-09-25 00:00:11,334 [    INFO] photobooth directory: D:\vscode-files\cpre_openhouse\env\Lib\site-packages\photobooth (__main__.py:21)
2024-09-25 00:00:11,335 [    INFO] working directory: D:\vscode-files\cpre_openhouse\photobooth-data (__main__.py:23)
2024-09-25 00:00:11,335 [    INFO] app version started: v4.0.0 (__main__.py:24)
2024-09-25 00:00:11,335 [    INFO] Welcome to the photobooth-app (__main__.py:27)
2024-09-25 00:00:11,336 [    INFO] started LoggingService (container.py:86)
2024-09-25 00:00:11,336 [    INFO] WledService disabled (wledservice.py:41)
2024-09-25 00:00:11,336 [    INFO] started WledService (container.py:86)
2024-09-25 00:00:11,342 [    INFO] aquisition main backend: <class 'photobooth.services.backends.webcamcv2.WebcamCv2Backend'> (aquisitionservice.py:63)
2024-09-25 00:00:11,342 [    INFO] aquisition live backend: None (aquisitionservice.py:64)
2024-09-25 00:00:11,342 [    INFO] setting device enable_lores_flag from False to False on backend WebcamCv2Backend (abstractbackend.py:131)
2024-09-25 00:00:11,343 [    INFO] connect_thread device status=EnumDeviceStatus.initialized, so trying to start (abstractbackend.py:151)
2024-09-25 00:00:11,343 [    INFO] running ffmpeg once to have it in memory later for video use (abstractbackend.py:241)
2024-09-25 00:00:11,343 [    INFO] setting device status from initialized to starting (abstractbackend.py:122)
2024-09-25 00:00:11,343 [    INFO] trying to start backend (abstractbackend.py:156)
2024-09-25 00:00:11,345 [ WARNING] ffmpeg not found on system. this is not a problem if video functions are not used. (abstractbackend.py:250)
2024-09-25 00:00:11,345 [    INFO] started AquisitionService (container.py:86)
2024-09-25 00:00:11,345 [    INFO] started MediaprocessingService (container.py:86)
2024-09-25 00:00:11,345 [    INFO] started MediacollectionService (container.py:86)
2024-09-25 00:00:11,377 [    INFO] started InformationService (container.py:86)
2024-09-25 00:00:11,377 [    INFO] started ProcessingService (container.py:86)
2024-09-25 00:00:11,377 [    INFO] started SystemService (container.py:86)
2024-09-25 00:00:11,377 [    INFO] started ShareService (container.py:86)
2024-09-25 00:00:11,378 [    INFO] started GpioService (container.py:86)
2024-09-25 00:00:11,378 [    INFO] shareservice disabled, start aborted. (qrshareservice.py:29)
2024-09-25 00:00:11,378 [    INFO] started QrShareService (container.py:86)
2024-09-25 00:00:11,378 [    INFO] FileTransferService disabled, start aborted. (filtetransferservice.py:30)
2024-09-25 00:00:11,378 [    INFO] started FileTransferService (container.py:86)
2024-09-25 00:00:11,378 [    INFO] started container (container.py:91)
2024-09-25 00:00:11,381 [   DEBUG] Using proactor: IocpProactor (proactor_events.py:633)
2024-09-25 00:00:11,403 [    INFO] Started server process [21808] (server.py:82)
2024-09-25 00:00:11,403 [    INFO] Waiting for application startup. (on.py:48)
2024-09-25 00:00:11,403 [    INFO] lifecycle hook installing signal to handle app shutdown (application.py:51)
2024-09-25 00:00:11,403 [    INFO] Application startup complete. (on.py:62)
2024-09-25 00:00:11,403 [    INFO] Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit) (server.py:214)
2024-09-25 00:00:11,501 [    INFO] SSE subscription added for client Address(host='127.0.0.1', port=39323) (sseservice.py:225)
2024-09-25 00:00:11,502 [   DEBUG] SSE clients listed [<starlette.requests.Request object at 0x00000297F8706DD0>] (sseservice.py:226)
2024-09-25 00:00:11,728 [    INFO] 127.0.0.1:39323 - "GET /api/sse HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:00:12,921 [    INFO] device is available (abstractbackend.py:160)
2024-09-25 00:00:18,230 [   DEBUG] photobooth.services.backends.webcamcv2 started (webcamcv2.py:80)
2024-09-25 00:00:18,231 [    INFO] setting device status from starting to running (abstractbackend.py:122)
2024-09-25 00:00:18,231 [    INFO] device started, set status running (abstractbackend.py:174)
2024-09-25 00:00:24,624 [    INFO] 127.0.0.1:39321 - "GET / HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:00:24,628 [   DEBUG] SSE subscription remove for Address(host='127.0.0.1', port=39323) requested (sseservice.py:231)
2024-09-25 00:00:24,628 [   DEBUG] SSE subscription removed for Address(host='127.0.0.1', port=39323) (sseservice.py:237)
2024-09-25 00:00:24,628 [   DEBUG] SSE clients listed [] (sseservice.py:243)
2024-09-25 00:00:24,628 [    INFO] Disconnected from client Address(host='127.0.0.1', port=39323) (sseservice.py:284)
2024-09-25 00:00:24,636 [    INFO] 127.0.0.1:39321 - "GET /assets/index-BcYb4QxB.js HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:00:24,638 [    INFO] 127.0.0.1:39321 - "GET /private.css HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:00:24,640 [    INFO] 127.0.0.1:39321 - "GET /assets/index-RpVwLL6o.css HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:00:24,672 [    INFO] 127.0.0.1:39321 - "GET /assets/sse-c7DaECpI.js HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:00:24,674 [    INFO] 127.0.0.1:39321 - "GET /assets/i18n-CR2w2Z7y.js HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:00:24,691 [    INFO] 127.0.0.1:39321 - "GET /api/config/currentActive HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:00:24,693 [   DEBUG] -- process time: 0.0s to compile db_get_images_as_dict output (mediacollectionservice.py:123)
2024-09-25 00:00:24,693 [    INFO] 127.0.0.1:39321 - "GET /api/mediacollection/getitems HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:00:24,700 [    INFO] 127.0.0.1:39321 - "GET /assets/MainLayout-r_trGXGg.js HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:00:24,702 [    INFO] 127.0.0.1:39321 - "GET /assets/InterVariable-CWi-zmRD.woff2 HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:00:24,704 [    INFO] 127.0.0.1:39321 - "GET /assets/QLayout-Bu7fsWWK.js HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:00:24,705 [    INFO] 127.0.0.1:39321 - "GET /assets/use-quasar-Bi2BZxyv.js HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:00:24,707 [    INFO] 127.0.0.1:39321 - "GET /assets/IndexPage-BnsCNjOP.js HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:00:24,708 [    INFO] 127.0.0.1:39321 - "GET /assets/QPageSticky-DP_3tGhw.js HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:00:24,710 [    INFO] 127.0.0.1:39321 - "GET /assets/QPage-iV6f14Q3.js HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:00:24,712 [    INFO] 127.0.0.1:39321 - "GET /assets/QCircularProgress-BeXMSaKj.js HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:00:24,713 [    INFO] 127.0.0.1:39321 - "GET /assets/format-CJebrXOQ.js HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:00:24,724 [    INFO] 127.0.0.1:39321 - "GET /api/aquisition/stream.mjpg HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:00:24,724 [    INFO] livestream started on backend backend_to_stream_from=<class 'photobooth.services.backends.webcamcv2.WebcamCv2Backend'> (aquisitionservice.py:203)
2024-09-25 00:00:24,725 [    INFO] setting device enable_lores_flag from False to True on backend WebcamCv2Backend (abstractbackend.py:131)
2024-09-25 00:00:24,948 [    INFO] 127.0.0.1:39340 - "GET /assets/kJEhBvYX7BgnkSrUwT8OhrdQw4oELdPIeeII9v6oFsLjBuVY-BmTnXka1.woff2 HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:00:25,093 [    INFO] SSE subscription added for client Address(host='127.0.0.1', port=39340) (sseservice.py:225)
2024-09-25 00:00:25,094 [   DEBUG] SSE clients listed [<starlette.requests.Request object at 0x00000297F890A710>] (sseservice.py:226)
2024-09-25 00:00:25,112 [    INFO] 127.0.0.1:39340 - "GET /api/sse HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:01:19,020 [   DEBUG] SSE subscription remove for Address(host='127.0.0.1', port=39340) requested (sseservice.py:231)
2024-09-25 00:01:19,020 [   DEBUG] SSE subscription removed for Address(host='127.0.0.1', port=39340) (sseservice.py:237)
2024-09-25 00:01:19,020 [   DEBUG] SSE clients listed [] (sseservice.py:243)
2024-09-25 00:01:19,020 [    INFO] Disconnected from client Address(host='127.0.0.1', port=39340) (sseservice.py:284)
2024-09-25 00:01:22,010 [    INFO] shutting down app via signal handler (application.py:41)
2024-09-25 00:01:22,010 [    INFO] FileTransferService stopped. (filtetransferservice.py:43)
2024-09-25 00:01:22,010 [    INFO] stopped FileTransferService (container.py:98)
2024-09-25 00:01:22,010 [    INFO] stopped QrShareService (container.py:98)
2024-09-25 00:01:22,010 [    INFO] stopped GpioService (container.py:98)
2024-09-25 00:01:22,012 [    INFO] stopped ShareService (container.py:98)
2024-09-25 00:01:22,012 [    INFO] stopped SystemService (container.py:98)
2024-09-25 00:01:22,012 [    INFO] stopped ProcessingService (container.py:98)
2024-09-25 00:01:22,012 [    INFO] stopped InformationService (container.py:98)
2024-09-25 00:01:22,012 [    INFO] stopped MediacollectionService (container.py:98)
2024-09-25 00:01:22,012 [    INFO] stopped MediaprocessingService (container.py:98)
2024-09-25 00:01:22,012 [    INFO] no _video_worker_thread active that could be stopped (abstractbackend.py:387)
2024-09-25 00:01:22,264 [    INFO] exit connection supervisor function, stopping device (abstractbackend.py:197)
2024-09-25 00:01:22,854 [   DEBUG] photobooth.services.backends.webcamcv2 stopped (webcamcv2.py:91)
2024-09-25 00:01:23,006 [    INFO] stopped AquisitionService (container.py:98)
2024-09-25 00:01:23,006 [    INFO] stopped WledService (container.py:98)
2024-09-25 00:01:23,006 [    INFO] stopped LoggingService (container.py:98)
2024-09-25 00:01:23,006 [    INFO] Shutting down (server.py:258)
2024-09-25 00:01:23,115 [    INFO] Finished server process [21808] (server.py:92)
2024-09-25 00:01:23,118 [   ERROR] Traceback (most recent call last):
  File "D:\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "D:\Python311\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\vscode-files\cpre_openhouse\env\Lib\site-packages\starlette\routing.py", line 700, in lifespan
    await receive()
  File "D:\vscode-files\cpre_openhouse\env\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Python311\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError
 (on.py:134)
2024-09-25 00:14:21,272 [   DEBUG] loggingservice __init__ finished (loggingservice.py:113)
2024-09-25 00:14:21,272 [   DEBUG] registered handlers: [<StreamHandler <stderr> (NOTSET)>, <FileHandler D:\vscode-files\cpre_openhouse\photobooth-data\log\photobooth_20240925.log (NOTSET)>, <EventstreamLogHandler (NOTSET)>] (loggingservice.py:114)
2024-09-25 00:14:21,273 [    INFO] init database and creating missing scaled images. this might take some time. (mediacollectionservice.py:60)
2024-09-25 00:14:21,273 [    INFO] watching for filetypes: ['.jpg', '.gif', '.mp4'] (mediacollectionservice.py:63)
2024-09-25 00:14:21,273 [    INFO] initialized image DB, added 0 valid images (mediacollectionservice.py:79)
2024-09-25 00:14:21,273 [    INFO] -- process time: 0.0s to initialize mediacollection (mediacollectionservice.py:80)
2024-09-25 00:14:21,274 [    INFO] platform.system()='Windows' (informationservice.py:116)
2024-09-25 00:14:21,274 [    INFO] platform.uname()=uname_result(system='Windows', node='karn-laptop', release='10', version='10.0.22631', machine='AMD64') (informationservice.py:117)
2024-09-25 00:14:21,274 [    INFO] platform.release()='10' (informationservice.py:118)
2024-09-25 00:14:21,274 [    INFO] platform.machine()='AMD64' (informationservice.py:119)
2024-09-25 00:14:21,274 [    INFO] platform.python_version()='3.11.8' (informationservice.py:120)
2024-09-25 00:14:21,274 [    INFO] platform.node()='karn-laptop' (informationservice.py:121)
2024-09-25 00:14:21,275 [    INFO] self._gather_model()='unknown' (informationservice.py:122)
2024-09-25 00:14:21,275 [    INFO] psutil.cpu_count()=16 (informationservice.py:123)
2024-09-25 00:14:21,275 [    INFO] psutil.cpu_count(logical=False)=8 (informationservice.py:124)
2024-09-25 00:14:21,275 [    INFO] psutil.disk_partitions()=[sdiskpart(device='C:\\', mountpoint='C:\\', fstype='NTFS', opts='rw,fixed'), sdiskpart(device='D:\\', mountpoint='D:\\', fstype='NTFS', opts='rw,fixed')] (informationservice.py:125)
2024-09-25 00:14:21,275 [    INFO] psutil.disk_usage('C:')=sdiskusage(total=241915916288, used=225118167040, free=16797749248, percent=93.1) (informationservice.py:129)
2024-09-25 00:14:21,281 [    INFO] [('Ethernet 2', ['192.168.111.2']), ('Ethernet', ['169.254.167.231']), ('Local Area Connection* 1', ['169.254.199.85']), ('Local Area Connection* 2', ['169.254.4.248']), ('Wi-Fi', ['192.168.1.33']), ('Loopback Pseudo-Interface 1', ['127.0.0.1'])] (informationservice.py:130)
2024-09-25 00:14:21,285 [    INFO] psutil.virtual_memory()=svmem(total=14877257728, available=5948723200, percent=60.0, used=8928534528, free=5948723200) (informationservice.py:139)
2024-09-25 00:14:21,286 [    INFO] __debug__=True (informationservice.py:141)
2024-09-25 00:14:21,286 [    INFO] initialized information service (informationservice.py:143)
2024-09-25 00:14:21,286 [    INFO] initialized systemservice (systemservice.py:30)
2024-09-25 00:14:21,419 [    INFO] photobooth directory: D:\vscode-files\cpre_openhouse\env\Lib\site-packages\photobooth (__main__.py:21)
2024-09-25 00:14:21,419 [    INFO] working directory: D:\vscode-files\cpre_openhouse\photobooth-data (__main__.py:23)
2024-09-25 00:14:21,419 [    INFO] app version started: v4.0.0 (__main__.py:24)
2024-09-25 00:14:21,420 [    INFO] Welcome to the photobooth-app (__main__.py:27)
2024-09-25 00:14:21,420 [    INFO] started LoggingService (container.py:86)
2024-09-25 00:14:21,420 [    INFO] WledService disabled (wledservice.py:41)
2024-09-25 00:14:21,421 [    INFO] started WledService (container.py:86)
2024-09-25 00:14:21,423 [    INFO] aquisition main backend: <class 'photobooth.services.backends.webcamcv2.WebcamCv2Backend'> (aquisitionservice.py:63)
2024-09-25 00:14:21,423 [    INFO] aquisition live backend: None (aquisitionservice.py:64)
2024-09-25 00:14:21,424 [    INFO] setting device enable_lores_flag from False to False on backend WebcamCv2Backend (abstractbackend.py:131)
2024-09-25 00:14:21,424 [    INFO] connect_thread device status=EnumDeviceStatus.initialized, so trying to start (abstractbackend.py:151)
2024-09-25 00:14:21,424 [    INFO] running ffmpeg once to have it in memory later for video use (abstractbackend.py:241)
2024-09-25 00:14:21,424 [    INFO] setting device status from initialized to starting (abstractbackend.py:122)
2024-09-25 00:14:21,425 [    INFO] trying to start backend (abstractbackend.py:156)
2024-09-25 00:14:21,426 [ WARNING] ffmpeg not found on system. this is not a problem if video functions are not used. (abstractbackend.py:250)
2024-09-25 00:14:21,426 [    INFO] started AquisitionService (container.py:86)
2024-09-25 00:14:21,426 [    INFO] started MediaprocessingService (container.py:86)
2024-09-25 00:14:21,426 [    INFO] started MediacollectionService (container.py:86)
2024-09-25 00:14:21,454 [    INFO] started InformationService (container.py:86)
2024-09-25 00:14:21,454 [    INFO] started ProcessingService (container.py:86)
2024-09-25 00:14:21,454 [    INFO] started SystemService (container.py:86)
2024-09-25 00:14:21,455 [    INFO] started ShareService (container.py:86)
2024-09-25 00:14:21,455 [    INFO] started GpioService (container.py:86)
2024-09-25 00:14:21,455 [    INFO] shareservice disabled, start aborted. (qrshareservice.py:29)
2024-09-25 00:14:21,455 [    INFO] started QrShareService (container.py:86)
2024-09-25 00:14:21,455 [    INFO] FileTransferService disabled, start aborted. (filtetransferservice.py:30)
2024-09-25 00:14:21,455 [    INFO] started FileTransferService (container.py:86)
2024-09-25 00:14:21,455 [    INFO] started container (container.py:91)
2024-09-25 00:14:21,457 [   DEBUG] Using proactor: IocpProactor (proactor_events.py:633)
2024-09-25 00:14:21,477 [    INFO] Started server process [13576] (server.py:82)
2024-09-25 00:14:21,477 [    INFO] Waiting for application startup. (on.py:48)
2024-09-25 00:14:21,478 [    INFO] lifecycle hook installing signal to handle app shutdown (application.py:51)
2024-09-25 00:14:21,478 [    INFO] Application startup complete. (on.py:62)
2024-09-25 00:14:21,478 [    INFO] Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit) (server.py:214)
2024-09-25 00:14:22,780 [    INFO] device is available (abstractbackend.py:160)
2024-09-25 00:14:28,011 [   DEBUG] photobooth.services.backends.webcamcv2 started (webcamcv2.py:80)
2024-09-25 00:14:28,011 [    INFO] setting device status from starting to running (abstractbackend.py:122)
2024-09-25 00:14:28,012 [    INFO] device started, set status running (abstractbackend.py:174)
2024-09-25 00:14:46,093 [    INFO] 127.0.0.1:40075 - "GET / HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:14:46,111 [    INFO] 127.0.0.1:40075 - "GET /assets/index-BcYb4QxB.js HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:14:46,116 [    INFO] 127.0.0.1:40075 - "GET /private.css HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:14:46,117 [    INFO] 127.0.0.1:40076 - "GET /assets/index-RpVwLL6o.css HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:14:46,149 [    INFO] 127.0.0.1:40076 - "GET /assets/sse-c7DaECpI.js HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:14:46,150 [    INFO] 127.0.0.1:40075 - "GET /assets/i18n-CR2w2Z7y.js HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:14:46,166 [   DEBUG] -- process time: 0.0s to compile db_get_images_as_dict output (mediacollectionservice.py:123)
2024-09-25 00:14:46,168 [    INFO] 127.0.0.1:40075 - "GET /api/config/currentActive HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:14:46,169 [    INFO] 127.0.0.1:40076 - "GET /api/mediacollection/getitems HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:14:46,178 [    INFO] 127.0.0.1:40075 - "GET /assets/QLayout-Bu7fsWWK.js HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:14:46,178 [    INFO] 127.0.0.1:40076 - "GET /assets/MainLayout-r_trGXGg.js HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:14:46,181 [    INFO] 127.0.0.1:40076 - "GET /assets/IndexPage-BnsCNjOP.js HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:14:46,181 [    INFO] 127.0.0.1:40075 - "GET /assets/use-quasar-Bi2BZxyv.js HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:14:46,183 [    INFO] 127.0.0.1:40075 - "GET /assets/QPage-iV6f14Q3.js HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:14:46,183 [    INFO] 127.0.0.1:40076 - "GET /assets/QPageSticky-DP_3tGhw.js HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:14:46,186 [    INFO] 127.0.0.1:40075 - "GET /assets/QCircularProgress-BeXMSaKj.js HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:14:46,187 [    INFO] 127.0.0.1:40076 - "GET /assets/InterVariable-CWi-zmRD.woff2 HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:14:46,188 [    INFO] 127.0.0.1:40075 - "GET /assets/format-CJebrXOQ.js HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:14:46,222 [    INFO] 127.0.0.1:40075 - "GET /api/aquisition/stream.mjpg HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:14:46,223 [    INFO] livestream started on backend backend_to_stream_from=<class 'photobooth.services.backends.webcamcv2.WebcamCv2Backend'> (aquisitionservice.py:203)
2024-09-25 00:14:46,223 [    INFO] setting device enable_lores_flag from False to True on backend WebcamCv2Backend (abstractbackend.py:131)
2024-09-25 00:14:46,242 [    INFO] 127.0.0.1:40076 - "GET /assets/kJEhBvYX7BgnkSrUwT8OhrdQw4oELdPIeeII9v6oFsLjBuVY-BmTnXka1.woff2 HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:14:46,573 [    INFO] SSE subscription added for client Address(host='127.0.0.1', port=40076) (sseservice.py:225)
2024-09-25 00:14:46,573 [   DEBUG] SSE clients listed [<starlette.requests.Request object at 0x0000025AE6BCD150>] (sseservice.py:226)
2024-09-25 00:14:46,578 [    INFO] 127.0.0.1:40076 - "GET /api/sse HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:14:52,588 [    INFO] trigger action_type='image', action_index=0 (processingservice.py:142)
2024-09-25 00:14:52,588 [    INFO] starting job model: job_model=typ=Typ.image, total_captures_to_take=1, confirmed_captures_collection=[], last_capture=None (processingservice.py:101)
2024-09-25 00:14:52,589 [    INFO] enter: idle from __initial__ (processingservice.py:299)
2024-09-25 00:14:52,589 [    INFO] state idle entered. (processingservice.py:317)
2024-09-25 00:14:52,589 [   DEBUG] starting _process_thread (processingservice.py:118)
2024-09-25 00:14:52,591 [    INFO] starting job (processingservice.py:73)
2024-09-25 00:14:52,591 [    INFO] exit: idle from start (processingservice.py:306)
2024-09-25 00:14:52,591 [    INFO] enter: counting from start (processingservice.py:299)
2024-09-25 00:14:52,591 [    INFO] 127.0.0.1:40080 - "GET /api/actions/image/0 HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:14:52,591 [    INFO] WledService preset_thrill triggered (wledservice.py:137)
2024-09-25 00:14:52,592 [ WARNING] WLED module not connected, ignoring request (wledservice.py:154)
2024-09-25 00:14:52,593 [    INFO] started countdown, duration=2.0, offset_camera=0.2 (processingservice.py:333)
2024-09-25 00:14:54,399 [    INFO] transition after: idle--(start)-->counting (processingservice.py:295)
2024-09-25 00:14:54,399 [    INFO] exit: counting from _counted (processingservice.py:306)
2024-09-25 00:14:54,399 [    INFO] enter: capture from _counted (processingservice.py:299)
2024-09-25 00:14:54,400 [    INFO] current capture (1/1, remaining 0) (processingservice.py:346)
2024-09-25 00:14:54,412 [   DEBUG] capture to mediaitem.path_original=WindowsPath('media/original/20240925-001454-400688.jpg') (processingservice.py:358)
2024-09-25 00:14:54,413 [    INFO] WledService preset_shoot triggered (wledservice.py:142)
2024-09-25 00:14:54,413 [ WARNING] WLED module not connected, ignoring request (wledservice.py:154)
2024-09-25 00:14:54,441 [    INFO] WledService preset_standby triggered (wledservice.py:132)
2024-09-25 00:14:54,441 [ WARNING] WLED module not connected, ignoring request (wledservice.py:154)
2024-09-25 00:14:54,443 [    INFO] -- process time: 0.03s to capture still (processingservice.py:372)
2024-09-25 00:14:54,443 [    INFO] transition after: counting--(_counted)-->capture (processingservice.py:295)
2024-09-25 00:14:54,443 [    INFO] exit: capture from _captured (processingservice.py:306)
2024-09-25 00:14:54,443 [    INFO] start postprocessing phase 1 (processingservice.py:387)
2024-09-25 00:14:54,443 [    INFO] postprocessing last capture: mediaitem=MediaItem Id: 59b02ce36483aa9ffb53f1e64f67f270, filename 20240925-001454-400688.jpg (processingservice.py:391)
2024-09-25 00:14:54,456 [   DEBUG] scaling img by factor 1.125, width input=1280 -> target=1500 (mediaitem.py:532)
2024-09-25 00:14:54,457 [ WARNING] scale factor bigger than 1 - consider optimize config, usually images shall shrink (mediaitem.py:534)
2024-09-25 00:14:54,468 [   DEBUG] scaling img by factor 1.0, width input=1280 -> target=1200 (mediaitem.py:532)
2024-09-25 00:14:54,477 [   DEBUG] scaling img by factor 0.375, width input=1280 -> target=400 (mediaitem.py:532)
2024-09-25 00:14:54,481 [    INFO] -- process time: 0.04s to create scaled images (processingservice.py:396)
2024-09-25 00:14:54,488 [    INFO] image_img_background_stage to apply, background_file='backgrounds/pink-7761356_1920.jpg' reverse=False (image_pipelinestages.py:172)
2024-09-25 00:14:54,488 [ WARNING] no transparency in image, background stage makes no sense to apply! (image_pipelinestages.py:175)
2024-09-25 00:14:54,488 [    INFO] image_frame_stage to apply (image_pipelinestages.py:215)
2024-09-25 00:14:54,525 [    INFO] loaded frame_path=WindowsPath('D:/vscode-files/cpre_openhouse/env/Lib/site-packages/photobooth/assets/frames/pixabay-holidays-1798208_1920.png') (image_pipelinestages.py:227)
2024-09-25 00:14:54,533 [    INFO] detected transparent area transparent_xy=(0, 0, 1920, 1371), transparent_size=(1920, 1371) (image_pipelinestages.py:240)
2024-09-25 00:14:54,581 [    INFO] captured image fitted to image_fitted.size=(1920, 1371), original capture was image.size=(1440, 810) (image_pipelinestages.py:252)
2024-09-25 00:14:54,582 [   DEBUG] ratio_original=0.5625, ratio_fitted=0.7140625 (image_pipelinestages.py:253)
2024-09-25 00:14:54,606 [    INFO] text stage to apply (image_pipelinestages.py:50)
2024-09-25 00:14:54,607 [   DEBUG] apply text: textconfig=TextsConfig(text='Made with the photobooth-app', pos_x=100, pos_y=1300, rotate=0, font_size=40, font='fonts/Roboto-Bold.ttf', color=Color('#ccc', rgb=(204, 204, 204))) (image_pipelinestages.py:53)
2024-09-25 00:14:54,626 [    INFO] 3 stages applied in: 0.14s (mediaprocessingservice.py:187)
2024-09-25 00:14:54,654 [   DEBUG] scaling img by factor 0.75, width input=1920 -> target=1500 (mediaitem.py:532)
2024-09-25 00:14:54,668 [   DEBUG] scaling img by factor 0.625, width input=1920 -> target=1200 (mediaitem.py:532)
2024-09-25 00:14:54,680 [   DEBUG] scaling img by factor 0.25, width input=1920 -> target=400 (mediaitem.py:532)
2024-09-25 00:14:54,687 [    INFO] save processed image and create scaled versions took 0.06s (mediaprocessingservice.py:201)
2024-09-25 00:14:54,688 [    INFO] -- process time: 0.21s to process singleimage (processingservice.py:401)
2024-09-25 00:14:54,688 [    INFO] capture mediaitem=MediaItem Id: 59b02ce36483aa9ffb53f1e64f67f270, filename 20240925-001454-400688.jpg successful (processingservice.py:406)
2024-09-25 00:14:54,689 [    INFO] enter: approve_capture from _captured (processingservice.py:299)
2024-09-25 00:14:54,689 [    INFO] finished capture (processingservice.py:412)
2024-09-25 00:14:54,689 [    INFO] automatic confirm enabled (processingservice.py:431)
2024-09-25 00:14:54,689 [    INFO] transition after: capture--(_captured)-->approve_capture (processingservice.py:295)
2024-09-25 00:14:54,690 [    INFO] exit: approve_capture from confirm (processingservice.py:306)
2024-09-25 00:14:54,690 [    INFO] enter: captures_completed from confirm (processingservice.py:299)
2024-09-25 00:14:54,690 [    INFO] start postprocessing phase 2 (processingservice.py:480)
2024-09-25 00:14:54,691 [    INFO] finished postprocessing (processingservice.py:545)
2024-09-25 00:14:54,691 [    INFO] adding items to db (processingservice.py:548)
2024-09-25 00:14:54,691 [   DEBUG] adding MediaItem Id: 59b02ce36483aa9ffb53f1e64f67f270, filename 20240925-001454-400688.jpg to collection (processingservice.py:551)
2024-09-25 00:14:54,691 [    INFO] transition after: approve_capture--(confirm)-->captures_completed (processingservice.py:295)
2024-09-25 00:14:54,691 [    INFO] exit: captures_completed from _present (processingservice.py:306)
2024-09-25 00:14:54,692 [    INFO] enter: present_capture from _present (processingservice.py:299)
2024-09-25 00:14:54,692 [    INFO] transition after: captures_completed--(_present)-->present_capture (processingservice.py:295)
2024-09-25 00:14:54,692 [    INFO] exit: present_capture from _finish (processingservice.py:306)
2024-09-25 00:14:54,692 [    INFO] enter: finished from _finish (processingservice.py:299)
2024-09-25 00:14:54,693 [    INFO] WledService preset_standby triggered (wledservice.py:132)
2024-09-25 00:14:54,693 [ WARNING] WLED module not connected, ignoring request (wledservice.py:154)
2024-09-25 00:14:54,693 [    INFO] transition after: present_capture--(_finish)-->finished (processingservice.py:295)
2024-09-25 00:14:54,693 [   DEBUG] job finished (processingservice.py:75)
2024-09-25 00:14:54,693 [   DEBUG] _process_fun left (processingservice.py:95)
2024-09-25 00:14:54,727 [    INFO] 127.0.0.1:40080 - "GET /assets/ItemPresenterPage-BYWWFz59.js HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:14:54,728 [    INFO] 127.0.0.1:40081 - "GET /assets/GalleryImageDetail-3Gbb7AOG.js HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:14:54,729 [    INFO] 127.0.0.1:40082 - "GET /assets/QHeader-DO1_oJCa.js HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:14:54,731 [    INFO] 127.0.0.1:40083 - "GET /assets/QLinearProgress-DngA6_4X.js HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:14:54,735 [    INFO] 127.0.0.1:40080 - "GET /assets/GalleryImageDetail-DISsCpmY.css HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:14:54,735 [    INFO] 127.0.0.1:40083 - "GET /assets/use-fullscreen-BcZ5uqOd.js HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:14:54,736 [    INFO] 127.0.0.1:40081 - "GET /assets/use-panel-0p1XHKte.js HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:14:54,736 [    INFO] 127.0.0.1:40082 - "GET /assets/QMenu-BogXmZRH.js HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:14:54,742 [    INFO] 127.0.0.1:40083 - "GET /assets/use-id-RuhGUkFU.js HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:14:54,742 [    INFO] 127.0.0.1:40080 - "GET /assets/QBtnDropdown-D3PIzNc4.js HTTP/1.1" 304 (h11_impl.py:476)
2024-09-25 00:14:54,819 [    INFO] 127.0.0.1:40080 - "GET /media/processed/preview/20240925-001454-400688.jpg HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:14:54,841 [    INFO] pilgram filter stage ashby to apply (image_pipelinestages.py:22)
2024-09-25 00:14:54,841 [    INFO] pilgram filter stage aden to apply (image_pipelinestages.py:22)
2024-09-25 00:14:54,841 [    INFO] pilgram filter stage _1977 to apply (image_pipelinestages.py:22)
2024-09-25 00:14:54,846 [    INFO] 127.0.0.1:40083 - "GET /api/mediaprocessing/preview/59b02ce36483aa9ffb53f1e64f67f270/original HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:14:54,862 [    INFO] pilgram filter stage amaro to apply (image_pipelinestages.py:22)
2024-09-25 00:14:54,873 [    INFO] 127.0.0.1:40082 - "GET /api/mediaprocessing/preview/59b02ce36483aa9ffb53f1e64f67f270/_1977 HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:14:54,876 [    INFO] 127.0.0.1:40080 - "GET /api/mediaprocessing/preview/59b02ce36483aa9ffb53f1e64f67f270/ashby HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:14:54,879 [    INFO] 127.0.0.1:40081 - "GET /api/mediaprocessing/preview/59b02ce36483aa9ffb53f1e64f67f270/aden HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:14:54,879 [    INFO] pilgram filter stage brannan to apply (image_pipelinestages.py:22)
2024-09-25 00:14:54,881 [    INFO] pilgram filter stage brooklyn to apply (image_pipelinestages.py:22)
2024-09-25 00:14:54,883 [    INFO] pilgram filter stage charmes to apply (image_pipelinestages.py:22)
2024-09-25 00:14:54,903 [    INFO] 127.0.0.1:40083 - "GET /api/mediaprocessing/preview/59b02ce36483aa9ffb53f1e64f67f270/amaro HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:14:54,910 [    INFO] pilgram filter stage clarendon to apply (image_pipelinestages.py:22)
2024-09-25 00:14:54,922 [    INFO] 127.0.0.1:40082 - "GET /api/mediaprocessing/preview/59b02ce36483aa9ffb53f1e64f67f270/brannan HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:14:54,930 [    INFO] pilgram filter stage crema to apply (image_pipelinestages.py:22)
2024-09-25 00:14:54,932 [    INFO] 127.0.0.1:40080 - "GET /api/mediaprocessing/preview/59b02ce36483aa9ffb53f1e64f67f270/brooklyn HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:14:54,937 [    INFO] pilgram filter stage dogpatch to apply (image_pipelinestages.py:22)
2024-09-25 00:14:54,943 [    INFO] 127.0.0.1:40083 - "GET /api/mediaprocessing/preview/59b02ce36483aa9ffb53f1e64f67f270/clarendon HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:14:54,946 [    INFO] 127.0.0.1:40081 - "GET /api/mediaprocessing/preview/59b02ce36483aa9ffb53f1e64f67f270/charmes HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:14:54,947 [    INFO] pilgram filter stage earlybird to apply (image_pipelinestages.py:22)
2024-09-25 00:14:54,949 [    INFO] pilgram filter stage gingham to apply (image_pipelinestages.py:22)
2024-09-25 00:14:54,956 [    INFO] 127.0.0.1:40080 - "GET /api/mediaprocessing/preview/59b02ce36483aa9ffb53f1e64f67f270/dogpatch HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:14:54,965 [    INFO] 127.0.0.1:40082 - "GET /api/mediaprocessing/preview/59b02ce36483aa9ffb53f1e64f67f270/crema HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:14:54,979 [    INFO] 127.0.0.1:40083 - "GET /api/mediaprocessing/preview/59b02ce36483aa9ffb53f1e64f67f270/earlybird HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:14:54,980 [    INFO] 127.0.0.1:40081 - "GET /api/mediaprocessing/preview/59b02ce36483aa9ffb53f1e64f67f270/gingham HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:15:25,129 [    INFO] 127.0.0.1:40115 - "GET /api/aquisition/stream.mjpg HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:15:25,129 [    INFO] livestream started on backend backend_to_stream_from=<class 'photobooth.services.backends.webcamcv2.WebcamCv2Backend'> (aquisitionservice.py:203)
2024-09-25 00:15:25,130 [    INFO] setting device enable_lores_flag from True to True on backend WebcamCv2Backend (abstractbackend.py:131)
2024-09-25 00:15:34,430 [    INFO] trigger action_type='image', action_index=0 (processingservice.py:142)
2024-09-25 00:15:34,431 [    INFO] starting job model: job_model=typ=Typ.image, total_captures_to_take=1, confirmed_captures_collection=[], last_capture=None (processingservice.py:101)
2024-09-25 00:15:34,432 [    INFO] enter: idle from __initial__ (processingservice.py:299)
2024-09-25 00:15:34,432 [    INFO] state idle entered. (processingservice.py:317)
2024-09-25 00:15:34,432 [   DEBUG] starting _process_thread (processingservice.py:118)
2024-09-25 00:15:34,432 [    INFO] starting job (processingservice.py:73)
2024-09-25 00:15:34,433 [    INFO] exit: idle from start (processingservice.py:306)
2024-09-25 00:15:34,433 [    INFO] enter: counting from start (processingservice.py:299)
2024-09-25 00:15:34,433 [    INFO] 127.0.0.1:40117 - "GET /api/actions/image/0 HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:15:34,434 [    INFO] WledService preset_thrill triggered (wledservice.py:137)
2024-09-25 00:15:34,434 [ WARNING] WLED module not connected, ignoring request (wledservice.py:154)
2024-09-25 00:15:34,435 [    INFO] trigger action_type='image', action_index=0 (processingservice.py:142)
2024-09-25 00:15:34,436 [    INFO] started countdown, duration=2.0, offset_camera=0.2 (processingservice.py:333)
2024-09-25 00:15:34,436 [   ERROR] HTTPException: HTTPException(status_code=400, detail='only one capture at a time allowed: bad request, only one request at a time!') (application.py:98)
2024-09-25 00:15:34,436 [    INFO] 127.0.0.1:40117 - "GET /api/actions/image/0 HTTP/1.1" 400 (h11_impl.py:476)
2024-09-25 00:15:36,248 [    INFO] transition after: idle--(start)-->counting (processingservice.py:295)
2024-09-25 00:15:36,248 [    INFO] exit: counting from _counted (processingservice.py:306)
2024-09-25 00:15:36,248 [    INFO] enter: capture from _counted (processingservice.py:299)
2024-09-25 00:15:36,248 [    INFO] current capture (1/1, remaining 0) (processingservice.py:346)
2024-09-25 00:15:36,250 [   DEBUG] capture to mediaitem.path_original=WindowsPath('media/original/20240925-001536-248379.jpg') (processingservice.py:358)
2024-09-25 00:15:36,250 [    INFO] WledService preset_shoot triggered (wledservice.py:142)
2024-09-25 00:15:36,250 [ WARNING] WLED module not connected, ignoring request (wledservice.py:154)
2024-09-25 00:15:36,283 [    INFO] WledService preset_standby triggered (wledservice.py:132)
2024-09-25 00:15:36,283 [ WARNING] WLED module not connected, ignoring request (wledservice.py:154)
2024-09-25 00:15:36,284 [    INFO] -- process time: 0.03s to capture still (processingservice.py:372)
2024-09-25 00:15:36,284 [    INFO] transition after: counting--(_counted)-->capture (processingservice.py:295)
2024-09-25 00:15:36,284 [    INFO] exit: capture from _captured (processingservice.py:306)
2024-09-25 00:15:36,284 [    INFO] start postprocessing phase 1 (processingservice.py:387)
2024-09-25 00:15:36,284 [    INFO] postprocessing last capture: mediaitem=MediaItem Id: 8843292a375ca7b5dcdbbacd951b2fbd, filename 20240925-001536-248379.jpg (processingservice.py:391)
2024-09-25 00:15:36,291 [   DEBUG] scaling img by factor 1.125, width input=1280 -> target=1500 (mediaitem.py:532)
2024-09-25 00:15:36,292 [ WARNING] scale factor bigger than 1 - consider optimize config, usually images shall shrink (mediaitem.py:534)
2024-09-25 00:15:36,303 [   DEBUG] scaling img by factor 1.0, width input=1280 -> target=1200 (mediaitem.py:532)
2024-09-25 00:15:36,310 [   DEBUG] scaling img by factor 0.375, width input=1280 -> target=400 (mediaitem.py:532)
2024-09-25 00:15:36,315 [    INFO] -- process time: 0.03s to create scaled images (processingservice.py:396)
2024-09-25 00:15:36,322 [    INFO] image_img_background_stage to apply, background_file='backgrounds/pink-7761356_1920.jpg' reverse=False (image_pipelinestages.py:172)
2024-09-25 00:15:36,323 [ WARNING] no transparency in image, background stage makes no sense to apply! (image_pipelinestages.py:175)
2024-09-25 00:15:36,323 [    INFO] image_frame_stage to apply (image_pipelinestages.py:215)
2024-09-25 00:15:36,359 [    INFO] loaded frame_path=WindowsPath('D:/vscode-files/cpre_openhouse/env/Lib/site-packages/photobooth/assets/frames/pixabay-holidays-1798208_1920.png') (image_pipelinestages.py:227)
2024-09-25 00:15:36,365 [    INFO] detected transparent area transparent_xy=(0, 0, 1920, 1371), transparent_size=(1920, 1371) (image_pipelinestages.py:240)
2024-09-25 00:15:36,405 [    INFO] captured image fitted to image_fitted.size=(1920, 1371), original capture was image.size=(1440, 810) (image_pipelinestages.py:252)
2024-09-25 00:15:36,405 [   DEBUG] ratio_original=0.5625, ratio_fitted=0.7140625 (image_pipelinestages.py:253)
2024-09-25 00:15:36,424 [    INFO] text stage to apply (image_pipelinestages.py:50)
2024-09-25 00:15:36,424 [   DEBUG] apply text: textconfig=TextsConfig(text='Made with the photobooth-app', pos_x=100, pos_y=1300, rotate=0, font_size=40, font='fonts/Roboto-Bold.ttf', color=Color('#ccc', rgb=(204, 204, 204))) (image_pipelinestages.py:53)
2024-09-25 00:15:36,441 [    INFO] 3 stages applied in: 0.12s (mediaprocessingservice.py:187)
2024-09-25 00:15:36,472 [   DEBUG] scaling img by factor 0.75, width input=1920 -> target=1500 (mediaitem.py:532)
2024-09-25 00:15:36,487 [   DEBUG] scaling img by factor 0.625, width input=1920 -> target=1200 (mediaitem.py:532)
2024-09-25 00:15:36,500 [   DEBUG] scaling img by factor 0.25, width input=1920 -> target=400 (mediaitem.py:532)
2024-09-25 00:15:36,507 [    INFO] save processed image and create scaled versions took 0.07s (mediaprocessingservice.py:201)
2024-09-25 00:15:36,508 [    INFO] -- process time: 0.19s to process singleimage (processingservice.py:401)
2024-09-25 00:15:36,509 [    INFO] capture mediaitem=MediaItem Id: 8843292a375ca7b5dcdbbacd951b2fbd, filename 20240925-001536-248379.jpg successful (processingservice.py:406)
2024-09-25 00:15:36,509 [    INFO] enter: approve_capture from _captured (processingservice.py:299)
2024-09-25 00:15:36,509 [    INFO] finished capture (processingservice.py:412)
2024-09-25 00:15:36,509 [    INFO] automatic confirm enabled (processingservice.py:431)
2024-09-25 00:15:36,510 [    INFO] transition after: capture--(_captured)-->approve_capture (processingservice.py:295)
2024-09-25 00:15:36,510 [    INFO] exit: approve_capture from confirm (processingservice.py:306)
2024-09-25 00:15:36,510 [    INFO] enter: captures_completed from confirm (processingservice.py:299)
2024-09-25 00:15:36,510 [    INFO] start postprocessing phase 2 (processingservice.py:480)
2024-09-25 00:15:36,510 [    INFO] finished postprocessing (processingservice.py:545)
2024-09-25 00:15:36,511 [    INFO] adding items to db (processingservice.py:548)
2024-09-25 00:15:36,511 [   DEBUG] adding MediaItem Id: 8843292a375ca7b5dcdbbacd951b2fbd, filename 20240925-001536-248379.jpg to collection (processingservice.py:551)
2024-09-25 00:15:36,511 [    INFO] transition after: approve_capture--(confirm)-->captures_completed (processingservice.py:295)
2024-09-25 00:15:36,511 [    INFO] exit: captures_completed from _present (processingservice.py:306)
2024-09-25 00:15:36,511 [    INFO] enter: present_capture from _present (processingservice.py:299)
2024-09-25 00:15:36,512 [    INFO] transition after: captures_completed--(_present)-->present_capture (processingservice.py:295)
2024-09-25 00:15:36,512 [    INFO] exit: present_capture from _finish (processingservice.py:306)
2024-09-25 00:15:36,512 [    INFO] enter: finished from _finish (processingservice.py:299)
2024-09-25 00:15:36,512 [    INFO] WledService preset_standby triggered (wledservice.py:132)
2024-09-25 00:15:36,512 [ WARNING] WLED module not connected, ignoring request (wledservice.py:154)
2024-09-25 00:15:36,512 [    INFO] transition after: present_capture--(_finish)-->finished (processingservice.py:295)
2024-09-25 00:15:36,513 [   DEBUG] job finished (processingservice.py:75)
2024-09-25 00:15:36,513 [   DEBUG] _process_fun left (processingservice.py:95)
2024-09-25 00:15:36,598 [    INFO] 127.0.0.1:40117 - "GET /media/processed/preview/20240925-001536-248379.jpg HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:15:36,617 [    INFO] 127.0.0.1:40117 - "GET /api/mediaprocessing/preview/8843292a375ca7b5dcdbbacd951b2fbd/original HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:15:36,620 [    INFO] pilgram filter stage amaro to apply (image_pipelinestages.py:22)
2024-09-25 00:15:36,633 [    INFO] 127.0.0.1:40117 - "GET /api/mediaprocessing/preview/8843292a375ca7b5dcdbbacd951b2fbd/amaro HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:15:36,635 [    INFO] pilgram filter stage _1977 to apply (image_pipelinestages.py:22)
2024-09-25 00:15:36,646 [    INFO] 127.0.0.1:40117 - "GET /api/mediaprocessing/preview/8843292a375ca7b5dcdbbacd951b2fbd/_1977 HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:15:36,649 [    INFO] pilgram filter stage aden to apply (image_pipelinestages.py:22)
2024-09-25 00:15:36,655 [    INFO] 127.0.0.1:40117 - "GET /api/mediaprocessing/preview/8843292a375ca7b5dcdbbacd951b2fbd/aden HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:15:36,658 [    INFO] pilgram filter stage ashby to apply (image_pipelinestages.py:22)
2024-09-25 00:15:36,667 [    INFO] 127.0.0.1:40117 - "GET /api/mediaprocessing/preview/8843292a375ca7b5dcdbbacd951b2fbd/ashby HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:15:36,669 [    INFO] pilgram filter stage brannan to apply (image_pipelinestages.py:22)
2024-09-25 00:15:36,678 [    INFO] 127.0.0.1:40117 - "GET /api/mediaprocessing/preview/8843292a375ca7b5dcdbbacd951b2fbd/brannan HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:15:36,682 [    INFO] pilgram filter stage brooklyn to apply (image_pipelinestages.py:22)
2024-09-25 00:15:36,706 [    INFO] 127.0.0.1:40117 - "GET /api/mediaprocessing/preview/8843292a375ca7b5dcdbbacd951b2fbd/brooklyn HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:15:36,709 [    INFO] pilgram filter stage charmes to apply (image_pipelinestages.py:22)
2024-09-25 00:15:36,722 [    INFO] 127.0.0.1:40117 - "GET /api/mediaprocessing/preview/8843292a375ca7b5dcdbbacd951b2fbd/charmes HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:15:36,724 [    INFO] pilgram filter stage clarendon to apply (image_pipelinestages.py:22)
2024-09-25 00:15:36,734 [    INFO] 127.0.0.1:40117 - "GET /api/mediaprocessing/preview/8843292a375ca7b5dcdbbacd951b2fbd/clarendon HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:15:36,738 [    INFO] pilgram filter stage crema to apply (image_pipelinestages.py:22)
2024-09-25 00:15:36,751 [    INFO] 127.0.0.1:40117 - "GET /api/mediaprocessing/preview/8843292a375ca7b5dcdbbacd951b2fbd/crema HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:15:36,753 [    INFO] pilgram filter stage dogpatch to apply (image_pipelinestages.py:22)
2024-09-25 00:15:36,757 [    INFO] 127.0.0.1:40117 - "GET /api/mediaprocessing/preview/8843292a375ca7b5dcdbbacd951b2fbd/dogpatch HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:15:36,759 [    INFO] pilgram filter stage earlybird to apply (image_pipelinestages.py:22)
2024-09-25 00:15:36,771 [    INFO] 127.0.0.1:40117 - "GET /api/mediaprocessing/preview/8843292a375ca7b5dcdbbacd951b2fbd/earlybird HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:15:36,774 [    INFO] pilgram filter stage gingham to apply (image_pipelinestages.py:22)
2024-09-25 00:15:36,788 [    INFO] 127.0.0.1:40117 - "GET /api/mediaprocessing/preview/8843292a375ca7b5dcdbbacd951b2fbd/gingham HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:15:52,091 [    INFO] 127.0.0.1:40122 - "GET /media/processed/full/20240925-001536-248379.jpg HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:15:52,114 [    INFO] 127.0.0.1:40122 - "GET /favicon.ico HTTP/1.1" 200 (h11_impl.py:476)
2024-09-25 00:15:59,039 [   DEBUG] SSE subscription remove for Address(host='127.0.0.1', port=40076) requested (sseservice.py:231)
2024-09-25 00:15:59,039 [   DEBUG] SSE subscription removed for Address(host='127.0.0.1', port=40076) (sseservice.py:237)
2024-09-25 00:15:59,039 [   DEBUG] SSE clients listed [] (sseservice.py:243)
2024-09-25 00:15:59,039 [    INFO] Disconnected from client Address(host='127.0.0.1', port=40076) (sseservice.py:284)
2024-09-25 00:16:01,361 [    INFO] shutting down app via signal handler (application.py:41)
2024-09-25 00:16:01,361 [    INFO] FileTransferService stopped. (filtetransferservice.py:43)
2024-09-25 00:16:01,361 [    INFO] stopped FileTransferService (container.py:98)
2024-09-25 00:16:01,362 [    INFO] stopped QrShareService (container.py:98)
2024-09-25 00:16:01,362 [    INFO] stopped GpioService (container.py:98)
2024-09-25 00:16:01,362 [    INFO] stopped ShareService (container.py:98)
2024-09-25 00:16:01,362 [    INFO] stopped SystemService (container.py:98)
2024-09-25 00:16:01,362 [    INFO] stopped ProcessingService (container.py:98)
2024-09-25 00:16:01,362 [    INFO] stopped InformationService (container.py:98)
2024-09-25 00:16:01,363 [    INFO] stopped MediacollectionService (container.py:98)
2024-09-25 00:16:01,363 [    INFO] stopped MediaprocessingService (container.py:98)
2024-09-25 00:16:01,363 [    INFO] no _video_worker_thread active that could be stopped (abstractbackend.py:387)
2024-09-25 00:16:02,040 [    INFO] exit connection supervisor function, stopping device (abstractbackend.py:197)
2024-09-25 00:16:02,140 [   DEBUG] photobooth.services.backends.webcamcv2 stopped (webcamcv2.py:91)
2024-09-25 00:16:02,360 [    INFO] stopped AquisitionService (container.py:98)
2024-09-25 00:16:02,360 [    INFO] stopped WledService (container.py:98)
2024-09-25 00:16:02,360 [    INFO] stopped LoggingService (container.py:98)
2024-09-25 00:16:02,360 [    INFO] Shutting down (server.py:258)
2024-09-25 00:16:02,469 [    INFO] Finished server process [13576] (server.py:92)
2024-09-25 00:16:02,472 [   ERROR] Traceback (most recent call last):
  File "D:\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "D:\Python311\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\vscode-files\cpre_openhouse\env\Lib\site-packages\starlette\routing.py", line 700, in lifespan
    await receive()
  File "D:\vscode-files\cpre_openhouse\env\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Python311\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError
 (on.py:134)

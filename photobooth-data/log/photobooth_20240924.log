2024-09-24 23:51:56,250 [   DEBUG] loggingservice __init__ finished (loggingservice.py:113)
2024-09-24 23:51:56,251 [   DEBUG] registered handlers: [<StreamHandler <stderr> (NOTSET)>, <FileHandler D:\vscode-files\cpre_openhouse\photobooth-data\log\photobooth_20240924.log (NOTSET)>, <EventstreamLogHandler (NOTSET)>] (loggingservice.py:114)
2024-09-24 23:51:56,283 [    INFO] init database and creating missing scaled images. this might take some time. (mediacollectionservice.py:60)
2024-09-24 23:51:56,284 [    INFO] watching for filetypes: ['.jpg', '.gif', '.mp4'] (mediacollectionservice.py:63)
2024-09-24 23:51:56,284 [    INFO] initialized image DB, added 0 valid images (mediacollectionservice.py:79)
2024-09-24 23:51:56,285 [    INFO] -- process time: 0.0s to initialize mediacollection (mediacollectionservice.py:80)
2024-09-24 23:51:56,285 [    INFO] platform.system()='Windows' (informationservice.py:116)
2024-09-24 23:51:56,285 [    INFO] platform.uname()=uname_result(system='Windows', node='karn-laptop', release='10', version='10.0.22631', machine='AMD64') (informationservice.py:117)
2024-09-24 23:51:56,285 [    INFO] platform.release()='10' (informationservice.py:118)
2024-09-24 23:51:56,286 [    INFO] platform.machine()='AMD64' (informationservice.py:119)
2024-09-24 23:51:56,286 [    INFO] platform.python_version()='3.11.8' (informationservice.py:120)
2024-09-24 23:51:56,286 [    INFO] platform.node()='karn-laptop' (informationservice.py:121)
2024-09-24 23:51:56,286 [    INFO] self._gather_model()='unknown' (informationservice.py:122)
2024-09-24 23:51:56,287 [    INFO] psutil.cpu_count()=16 (informationservice.py:123)
2024-09-24 23:51:56,287 [    INFO] psutil.cpu_count(logical=False)=8 (informationservice.py:124)
2024-09-24 23:51:56,287 [    INFO] psutil.disk_partitions()=[sdiskpart(device='C:\\', mountpoint='C:\\', fstype='NTFS', opts='rw,fixed'), sdiskpart(device='D:\\', mountpoint='D:\\', fstype='NTFS', opts='rw,fixed')] (informationservice.py:125)
2024-09-24 23:51:56,287 [    INFO] psutil.disk_usage('C:')=sdiskusage(total=241915916288, used=225086529536, free=16829386752, percent=93.0) (informationservice.py:129)
2024-09-24 23:51:56,293 [    INFO] [('Ethernet 2', ['192.168.111.2']), ('Ethernet', ['169.254.167.231']), ('Local Area Connection* 1', ['169.254.199.85']), ('Local Area Connection* 2', ['169.254.4.248']), ('Wi-Fi', ['192.168.1.33']), ('Loopback Pseudo-Interface 1', ['127.0.0.1'])] (informationservice.py:130)
2024-09-24 23:51:56,297 [    INFO] psutil.virtual_memory()=svmem(total=14877257728, available=6239416320, percent=58.1, used=8637841408, free=6239416320) (informationservice.py:139)
2024-09-24 23:51:56,298 [    INFO] __debug__=True (informationservice.py:141)
2024-09-24 23:51:56,298 [    INFO] initialized information service (informationservice.py:143)
2024-09-24 23:51:56,298 [    INFO] initialized systemservice (systemservice.py:30)
2024-09-24 23:51:56,611 [    INFO] photobooth directory: D:\vscode-files\cpre_openhouse\env\Lib\site-packages\photobooth (__main__.py:21)
2024-09-24 23:51:56,611 [    INFO] working directory: D:\vscode-files\cpre_openhouse\photobooth-data (__main__.py:23)
2024-09-24 23:51:56,611 [    INFO] app version started: v4.0.0 (__main__.py:24)
2024-09-24 23:51:56,611 [    INFO] Welcome to the photobooth-app (__main__.py:27)
2024-09-24 23:51:56,612 [    INFO] started LoggingService (container.py:86)
2024-09-24 23:51:56,612 [    INFO] WledService disabled (wledservice.py:41)
2024-09-24 23:51:56,612 [    INFO] started WledService (container.py:86)
2024-09-24 23:51:56,613 [    INFO] aquisition main backend: <class 'photobooth.services.backends.virtualcamera.VirtualCameraBackend'> (aquisitionservice.py:63)
2024-09-24 23:51:56,613 [    INFO] aquisition live backend: None (aquisitionservice.py:64)
2024-09-24 23:51:56,613 [    INFO] setting device enable_lores_flag from False to False on backend VirtualCameraBackend (abstractbackend.py:131)
2024-09-24 23:51:56,614 [    INFO] connect_thread device status=EnumDeviceStatus.initialized, so trying to start (abstractbackend.py:151)
2024-09-24 23:51:56,614 [    INFO] running ffmpeg once to have it in memory later for video use (abstractbackend.py:241)
2024-09-24 23:51:56,614 [    INFO] setting device status from initialized to starting (abstractbackend.py:122)
2024-09-24 23:51:56,615 [    INFO] trying to start backend (abstractbackend.py:156)
2024-09-24 23:51:56,615 [    INFO] device is available (abstractbackend.py:160)
2024-09-24 23:51:56,615 [    INFO] virtualcamera thread function starts (virtualcamera.py:107)
2024-09-24 23:51:56,616 [ WARNING] ffmpeg not found on system. this is not a problem if video functions are not used. (abstractbackend.py:250)
2024-09-24 23:51:56,616 [    INFO] started AquisitionService (container.py:86)
2024-09-24 23:51:56,616 [    INFO] started MediaprocessingService (container.py:86)
2024-09-24 23:51:56,617 [    INFO] started MediacollectionService (container.py:86)
2024-09-24 23:51:56,617 [    INFO] started InformationService (container.py:86)
2024-09-24 23:51:56,617 [    INFO] started ProcessingService (container.py:86)
2024-09-24 23:51:56,617 [    INFO] started SystemService (container.py:86)
2024-09-24 23:51:56,617 [    INFO] started ShareService (container.py:86)
2024-09-24 23:51:56,617 [    INFO] started GpioService (container.py:86)
2024-09-24 23:51:56,617 [    INFO] shareservice disabled, start aborted. (qrshareservice.py:29)
2024-09-24 23:51:56,617 [    INFO] started QrShareService (container.py:86)
2024-09-24 23:51:56,618 [    INFO] FileTransferService disabled, start aborted. (filtetransferservice.py:30)
2024-09-24 23:51:56,618 [    INFO] started FileTransferService (container.py:86)
2024-09-24 23:51:56,618 [    INFO] started container (container.py:91)
2024-09-24 23:51:56,620 [   DEBUG] Using proactor: IocpProactor (proactor_events.py:633)
2024-09-24 23:51:56,747 [    INFO] found 260 images in virtualcamera video (virtualcamera.py:128)
2024-09-24 23:51:56,747 [   DEBUG] photobooth.services.backends.virtualcamera started (virtualcamera.py:60)
2024-09-24 23:51:56,747 [    INFO] setting device status from starting to running (abstractbackend.py:122)
2024-09-24 23:51:56,747 [    INFO] device started, set status running (abstractbackend.py:174)
2024-09-24 23:51:56,765 [    INFO] Started server process [11280] (server.py:82)
2024-09-24 23:51:56,765 [    INFO] Waiting for application startup. (on.py:48)
2024-09-24 23:51:56,765 [    INFO] lifecycle hook installing signal to handle app shutdown (application.py:51)
2024-09-24 23:51:56,766 [    INFO] Application startup complete. (on.py:62)
2024-09-24 23:51:56,766 [    INFO] Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit) (server.py:214)
2024-09-24 23:52:13,391 [    INFO] 127.0.0.1:38856 - "GET / HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:52:13,416 [    INFO] 127.0.0.1:38857 - "GET /assets/index-RpVwLL6o.css HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:52:13,416 [    INFO] 127.0.0.1:38856 - "GET /assets/index-BcYb4QxB.js HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:52:13,435 [    INFO] 127.0.0.1:38857 - "GET /private.css HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:52:13,492 [    INFO] 127.0.0.1:38856 - "GET /assets/sse-c7DaECpI.js HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:52:13,494 [    INFO] 127.0.0.1:38857 - "GET /assets/i18n-CR2w2Z7y.js HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:52:13,541 [   DEBUG] -- process time: 0.0s to compile db_get_images_as_dict output (mediacollectionservice.py:123)
2024-09-24 23:52:13,542 [    INFO] 127.0.0.1:38857 - "GET /api/config/currentActive HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:52:13,543 [    INFO] 127.0.0.1:38856 - "GET /api/mediacollection/getitems HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:52:13,551 [    INFO] 127.0.0.1:38857 - "GET /assets/QLayout-Bu7fsWWK.js HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:52:13,551 [    INFO] 127.0.0.1:38856 - "GET /assets/MainLayout-r_trGXGg.js HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:52:13,571 [    INFO] 127.0.0.1:38857 - "GET /assets/InterVariable-CWi-zmRD.woff2 HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:52:13,572 [    INFO] 127.0.0.1:38856 - "GET /assets/use-quasar-Bi2BZxyv.js HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:52:13,583 [    INFO] 127.0.0.1:38857 - "GET /assets/IndexPage-BnsCNjOP.js HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:52:13,590 [    INFO] 127.0.0.1:38856 - "GET /assets/QPageSticky-DP_3tGhw.js HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:52:13,603 [    INFO] 127.0.0.1:38861 - "GET /assets/QPage-iV6f14Q3.js HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:52:13,606 [    INFO] 127.0.0.1:38856 - "GET /assets/QCircularProgress-BeXMSaKj.js HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:52:13,608 [    INFO] 127.0.0.1:38857 - "GET /assets/format-CJebrXOQ.js HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:52:13,636 [    INFO] 127.0.0.1:38856 - "GET /api/aquisition/stream.mjpg HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:52:13,636 [    INFO] livestream started on backend backend_to_stream_from=<class 'photobooth.services.backends.virtualcamera.VirtualCameraBackend'> (aquisitionservice.py:203)
2024-09-24 23:52:13,636 [    INFO] setting device enable_lores_flag from False to True on backend VirtualCameraBackend (abstractbackend.py:131)
2024-09-24 23:52:13,660 [    INFO] 127.0.0.1:38857 - "GET /assets/kJEhBvYX7BgnkSrUwT8OhrdQw4oELdPIeeII9v6oFsLjBuVY-BmTnXka1.woff2 HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:52:13,946 [    INFO] SSE subscription added for client Address(host='127.0.0.1', port=38857) (sseservice.py:225)
2024-09-24 23:52:13,947 [   DEBUG] SSE clients listed [<starlette.requests.Request object at 0x000001B3E91DA6D0>] (sseservice.py:226)
2024-09-24 23:52:13,952 [    INFO] 127.0.0.1:38857 - "GET /api/sse HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:52:16,519 [    INFO] 127.0.0.1:38861 - "GET /assets/AuthLayout-CsV3Ypzf.js HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:52:16,519 [    INFO] 127.0.0.1:38862 - "GET /assets/LoginPage-DeR6J-mk.js HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:52:16,519 [    INFO] 127.0.0.1:38863 - "GET /assets/QInput-CNS_a_Sg.js HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:52:16,520 [    INFO] 127.0.0.1:38864 - "GET /assets/use-key-composition-eLSyffFn.js HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:52:16,537 [    INFO] 127.0.0.1:38861 - "GET /assets/use-id-RuhGUkFU.js HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:52:40,270 [    INFO] 127.0.0.1:38906 - "POST /api/admin/auth/token HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:52:40,275 [    INFO] 127.0.0.1:38906 - "GET /assets/AdminLayout-CkUzQlgV.js HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:52:40,299 [    INFO] 127.0.0.1:38906 - "GET /assets/QToolbarTitle-DDhZH9b5.js HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:52:40,319 [    INFO] 127.0.0.1:38906 - "GET /assets/rtl-DFPa-2ov.js HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:52:40,332 [    INFO] 127.0.0.1:38906 - "GET /assets/QItem-fC8UpzWa.js HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:52:40,351 [    INFO] 127.0.0.1:38906 - "GET /assets/QList-Jd8G_hM6.js HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:52:40,365 [    INFO] 127.0.0.1:38906 - "GET /assets/QBtnDropdown-D3PIzNc4.js HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:52:40,383 [    INFO] 127.0.0.1:38906 - "GET /assets/QMenu-BogXmZRH.js HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:52:40,409 [    INFO] 127.0.0.1:38906 - "GET /assets/QHeader-DO1_oJCa.js HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:52:40,425 [    INFO] 127.0.0.1:38906 - "GET /assets/AdminDashboardPage-Do7fTWx_.js HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:52:40,443 [    INFO] 127.0.0.1:38906 - "GET /assets/QSelect-Cv8bjGq1.js HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:52:40,530 [    INFO] 127.0.0.1:38906 - "GET /icons/logo-notext-white-transparent.png HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:55:19,321 [    INFO] 127.0.0.1:39163 - "GET /assets/AdminConfigPage-D7HF0_tv.js HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:55:19,323 [    INFO] 127.0.0.1:39162 - "GET /assets/AdminConfigPage-s5NtCLKj.css HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:55:19,323 [    INFO] 127.0.0.1:39164 - "GET /assets/QSeparator-mEjIFz53.js HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:55:19,324 [    INFO] 127.0.0.1:39165 - "GET /assets/use-checkbox-BqkVCNZT.js HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:55:19,324 [    INFO] 127.0.0.1:39166 - "GET /assets/use-panel-0p1XHKte.js HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:55:19,459 [    INFO] 127.0.0.1:39163 - "GET /api/admin/config/schema?schema_type=dereferenced HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:55:19,466 [    INFO] 127.0.0.1:39163 - "GET /api/admin/config/currentActive HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:56:36,397 [   DEBUG] persist config to json file (appconfig.py:176)
2024-09-24 23:56:36,399 [    INFO] 127.0.0.1:39179 - "POST /api/admin/config/current HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:56:36,403 [    INFO] 127.0.0.1:39179 - "GET /api/admin/config/currentActive HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:56:38,703 [    INFO] 127.0.0.1:39179 - "GET /api/aquisition/stream.mjpg HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:56:38,703 [    INFO] livestream started on backend backend_to_stream_from=<class 'photobooth.services.backends.virtualcamera.VirtualCameraBackend'> (aquisitionservice.py:203)
2024-09-24 23:56:38,704 [    INFO] setting device enable_lores_flag from True to True on backend VirtualCameraBackend (abstractbackend.py:131)
2024-09-24 23:57:15,202 [    INFO] 127.0.0.1:39190 - "GET /api/admin/config/schema?schema_type=dereferenced HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:57:15,208 [    INFO] 127.0.0.1:39190 - "GET /api/admin/config/currentActive HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:57:21,456 [    INFO] cmd api requested action=server, param=reboot (system.py:21)
2024-09-24 23:57:21,473 [    INFO] 127.0.0.1:39195 - "GET /api/system/server/reboot HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:57:27,882 [    INFO] 127.0.0.1:39197 - "GET /api/aquisition/stream.mjpg HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:57:27,882 [    INFO] livestream started on backend backend_to_stream_from=<class 'photobooth.services.backends.virtualcamera.VirtualCameraBackend'> (aquisitionservice.py:203)
2024-09-24 23:57:27,882 [    INFO] setting device enable_lores_flag from True to True on backend VirtualCameraBackend (abstractbackend.py:131)
2024-09-24 23:57:32,928 [    INFO] trigger action_type='image', action_index=0 (processingservice.py:142)
2024-09-24 23:57:32,928 [    INFO] starting job model: job_model=typ=Typ.image, total_captures_to_take=1, confirmed_captures_collection=[], last_capture=None (processingservice.py:101)
2024-09-24 23:57:32,929 [    INFO] enter: idle from __initial__ (processingservice.py:299)
2024-09-24 23:57:32,930 [    INFO] state idle entered. (processingservice.py:317)
2024-09-24 23:57:32,930 [   DEBUG] starting _process_thread (processingservice.py:118)
2024-09-24 23:57:32,930 [    INFO] starting job (processingservice.py:73)
2024-09-24 23:57:32,930 [    INFO] exit: idle from start (processingservice.py:306)
2024-09-24 23:57:32,930 [    INFO] enter: counting from start (processingservice.py:299)
2024-09-24 23:57:32,931 [    INFO] 127.0.0.1:39199 - "GET /api/actions/image/0 HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:57:32,931 [    INFO] WledService preset_thrill triggered (wledservice.py:137)
2024-09-24 23:57:32,931 [ WARNING] WLED module not connected, ignoring request (wledservice.py:154)
2024-09-24 23:57:32,932 [    INFO] started countdown, duration=2.0, offset_camera=0.2 (processingservice.py:333)
2024-09-24 23:57:34,737 [    INFO] transition after: idle--(start)-->counting (processingservice.py:295)
2024-09-24 23:57:34,738 [    INFO] exit: counting from _counted (processingservice.py:306)
2024-09-24 23:57:34,738 [    INFO] enter: capture from _counted (processingservice.py:299)
2024-09-24 23:57:34,738 [    INFO] current capture (1/1, remaining 0) (processingservice.py:346)
2024-09-24 23:57:34,750 [   DEBUG] capture to mediaitem.path_original=WindowsPath('media/original/20240924-235734-738437.jpg') (processingservice.py:358)
2024-09-24 23:57:34,750 [    INFO] WledService preset_shoot triggered (wledservice.py:142)
2024-09-24 23:57:34,750 [ WARNING] WLED module not connected, ignoring request (wledservice.py:154)
2024-09-24 23:57:34,964 [    INFO] WledService preset_standby triggered (wledservice.py:132)
2024-09-24 23:57:34,964 [ WARNING] WLED module not connected, ignoring request (wledservice.py:154)
2024-09-24 23:57:34,964 [    INFO] -- process time: 0.21s to capture still (processingservice.py:372)
2024-09-24 23:57:34,966 [    INFO] transition after: counting--(_counted)-->capture (processingservice.py:295)
2024-09-24 23:57:34,966 [    INFO] exit: capture from _captured (processingservice.py:306)
2024-09-24 23:57:34,966 [    INFO] start postprocessing phase 1 (processingservice.py:387)
2024-09-24 23:57:34,966 [    INFO] postprocessing last capture: mediaitem=MediaItem Id: c39aa522a43030f253f810dc393e9839, filename 20240924-235734-738437.jpg (processingservice.py:391)
2024-09-24 23:57:34,980 [   DEBUG] scaling img by factor 1.375, width input=1080 -> target=1500 (mediaitem.py:532)
2024-09-24 23:57:34,980 [ WARNING] scale factor bigger than 1 - consider optimize config, usually images shall shrink (mediaitem.py:534)
2024-09-24 23:57:34,990 [   DEBUG] scaling img by factor 1.125, width input=1080 -> target=1200 (mediaitem.py:532)
2024-09-24 23:57:34,990 [ WARNING] scale factor bigger than 1 - consider optimize config, usually images shall shrink (mediaitem.py:534)
2024-09-24 23:57:34,997 [   DEBUG] scaling img by factor 0.375, width input=1080 -> target=400 (mediaitem.py:532)
2024-09-24 23:57:34,999 [    INFO] -- process time: 0.03s to create scaled images (processingservice.py:396)
2024-09-24 23:57:35,007 [    INFO] image_img_background_stage to apply, background_file='backgrounds/pink-7761356_1920.jpg' reverse=False (image_pipelinestages.py:172)
2024-09-24 23:57:35,007 [ WARNING] no transparency in image, background stage makes no sense to apply! (image_pipelinestages.py:175)
2024-09-24 23:57:35,007 [    INFO] image_frame_stage to apply (image_pipelinestages.py:215)
2024-09-24 23:57:35,047 [    INFO] loaded frame_path=WindowsPath('D:/vscode-files/cpre_openhouse/env/Lib/site-packages/photobooth/assets/frames/pixabay-holidays-1798208_1920.png') (image_pipelinestages.py:227)
2024-09-24 23:57:35,054 [    INFO] detected transparent area transparent_xy=(0, 0, 1920, 1371), transparent_size=(1920, 1371) (image_pipelinestages.py:240)
2024-09-24 23:57:35,108 [    INFO] captured image fitted to image_fitted.size=(1920, 1371), original capture was image.size=(1485, 990) (image_pipelinestages.py:252)
2024-09-24 23:57:35,108 [   DEBUG] ratio_original=0.6666666666666666, ratio_fitted=0.7140625 (image_pipelinestages.py:253)
2024-09-24 23:57:35,129 [    INFO] text stage to apply (image_pipelinestages.py:50)
2024-09-24 23:57:35,130 [   DEBUG] apply text: textconfig=TextsConfig(text='Made with the photobooth-app', pos_x=100, pos_y=1300, rotate=0, font_size=40, font='fonts/Roboto-Bold.ttf', color=Color('#ccc', rgb=(204, 204, 204))) (image_pipelinestages.py:53)
2024-09-24 23:57:35,151 [    INFO] 3 stages applied in: 0.14s (mediaprocessingservice.py:187)
2024-09-24 23:57:35,183 [   DEBUG] scaling img by factor 0.75, width input=1920 -> target=1500 (mediaitem.py:532)
2024-09-24 23:57:35,198 [   DEBUG] scaling img by factor 0.625, width input=1920 -> target=1200 (mediaitem.py:532)
2024-09-24 23:57:35,210 [   DEBUG] scaling img by factor 0.25, width input=1920 -> target=400 (mediaitem.py:532)
2024-09-24 23:57:35,217 [    INFO] save processed image and create scaled versions took 0.06s (mediaprocessingservice.py:201)
2024-09-24 23:57:35,218 [    INFO] -- process time: 0.22s to process singleimage (processingservice.py:401)
2024-09-24 23:57:35,218 [    INFO] capture mediaitem=MediaItem Id: c39aa522a43030f253f810dc393e9839, filename 20240924-235734-738437.jpg successful (processingservice.py:406)
2024-09-24 23:57:35,219 [    INFO] enter: approve_capture from _captured (processingservice.py:299)
2024-09-24 23:57:35,219 [    INFO] finished capture (processingservice.py:412)
2024-09-24 23:57:35,219 [    INFO] automatic confirm enabled (processingservice.py:431)
2024-09-24 23:57:35,219 [    INFO] transition after: capture--(_captured)-->approve_capture (processingservice.py:295)
2024-09-24 23:57:35,219 [    INFO] exit: approve_capture from confirm (processingservice.py:306)
2024-09-24 23:57:35,219 [    INFO] enter: captures_completed from confirm (processingservice.py:299)
2024-09-24 23:57:35,220 [    INFO] start postprocessing phase 2 (processingservice.py:480)
2024-09-24 23:57:35,220 [    INFO] finished postprocessing (processingservice.py:545)
2024-09-24 23:57:35,220 [    INFO] adding items to db (processingservice.py:548)
2024-09-24 23:57:35,220 [   DEBUG] adding MediaItem Id: c39aa522a43030f253f810dc393e9839, filename 20240924-235734-738437.jpg to collection (processingservice.py:551)
2024-09-24 23:57:35,220 [    INFO] transition after: approve_capture--(confirm)-->captures_completed (processingservice.py:295)
2024-09-24 23:57:35,220 [    INFO] exit: captures_completed from _present (processingservice.py:306)
2024-09-24 23:57:35,220 [    INFO] enter: present_capture from _present (processingservice.py:299)
2024-09-24 23:57:35,221 [    INFO] transition after: captures_completed--(_present)-->present_capture (processingservice.py:295)
2024-09-24 23:57:35,221 [    INFO] exit: present_capture from _finish (processingservice.py:306)
2024-09-24 23:57:35,221 [    INFO] enter: finished from _finish (processingservice.py:299)
2024-09-24 23:57:35,221 [    INFO] WledService preset_standby triggered (wledservice.py:132)
2024-09-24 23:57:35,221 [ WARNING] WLED module not connected, ignoring request (wledservice.py:154)
2024-09-24 23:57:35,221 [    INFO] transition after: present_capture--(_finish)-->finished (processingservice.py:295)
2024-09-24 23:57:35,221 [   DEBUG] job finished (processingservice.py:75)
2024-09-24 23:57:35,221 [   DEBUG] _process_fun left (processingservice.py:95)
2024-09-24 23:57:35,271 [    INFO] 127.0.0.1:39199 - "GET /assets/ItemPresenterPage-BYWWFz59.js HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:57:35,290 [    INFO] 127.0.0.1:39199 - "GET /assets/GalleryImageDetail-DISsCpmY.css HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:57:35,299 [    INFO] 127.0.0.1:39199 - "GET /assets/GalleryImageDetail-3Gbb7AOG.js HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:57:35,323 [    INFO] 127.0.0.1:39199 - "GET /assets/QLinearProgress-DngA6_4X.js HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:57:35,339 [    INFO] 127.0.0.1:39199 - "GET /assets/use-fullscreen-BcZ5uqOd.js HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:57:35,410 [    INFO] 127.0.0.1:39199 - "GET /media/processed/preview/20240924-235734-738437.jpg HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:57:35,431 [    INFO] 127.0.0.1:39199 - "GET /api/mediaprocessing/preview/c39aa522a43030f253f810dc393e9839/original HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:57:35,434 [    INFO] pilgram filter stage amaro to apply (image_pipelinestages.py:22)
2024-09-24 23:57:35,444 [    INFO] 127.0.0.1:39199 - "GET /api/mediaprocessing/preview/c39aa522a43030f253f810dc393e9839/amaro HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:57:35,447 [    INFO] pilgram filter stage _1977 to apply (image_pipelinestages.py:22)
2024-09-24 23:57:35,455 [    INFO] 127.0.0.1:39199 - "GET /api/mediaprocessing/preview/c39aa522a43030f253f810dc393e9839/_1977 HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:57:35,458 [    INFO] pilgram filter stage aden to apply (image_pipelinestages.py:22)
2024-09-24 23:57:35,464 [    INFO] 127.0.0.1:39199 - "GET /api/mediaprocessing/preview/c39aa522a43030f253f810dc393e9839/aden HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:57:35,466 [    INFO] pilgram filter stage ashby to apply (image_pipelinestages.py:22)
2024-09-24 23:57:35,477 [    INFO] 127.0.0.1:39199 - "GET /api/mediaprocessing/preview/c39aa522a43030f253f810dc393e9839/ashby HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:57:35,480 [    INFO] pilgram filter stage brannan to apply (image_pipelinestages.py:22)
2024-09-24 23:57:35,488 [    INFO] 127.0.0.1:39199 - "GET /api/mediaprocessing/preview/c39aa522a43030f253f810dc393e9839/brannan HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:57:35,491 [    INFO] pilgram filter stage brooklyn to apply (image_pipelinestages.py:22)
2024-09-24 23:57:35,513 [    INFO] 127.0.0.1:39199 - "GET /api/mediaprocessing/preview/c39aa522a43030f253f810dc393e9839/brooklyn HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:57:35,516 [    INFO] pilgram filter stage charmes to apply (image_pipelinestages.py:22)
2024-09-24 23:57:35,528 [    INFO] 127.0.0.1:39199 - "GET /api/mediaprocessing/preview/c39aa522a43030f253f810dc393e9839/charmes HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:57:35,531 [    INFO] pilgram filter stage clarendon to apply (image_pipelinestages.py:22)
2024-09-24 23:57:35,541 [    INFO] 127.0.0.1:39199 - "GET /api/mediaprocessing/preview/c39aa522a43030f253f810dc393e9839/clarendon HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:57:35,543 [    INFO] pilgram filter stage crema to apply (image_pipelinestages.py:22)
2024-09-24 23:57:35,553 [    INFO] 127.0.0.1:39199 - "GET /api/mediaprocessing/preview/c39aa522a43030f253f810dc393e9839/crema HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:57:35,556 [    INFO] pilgram filter stage dogpatch to apply (image_pipelinestages.py:22)
2024-09-24 23:57:35,560 [    INFO] 127.0.0.1:39199 - "GET /api/mediaprocessing/preview/c39aa522a43030f253f810dc393e9839/dogpatch HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:57:35,563 [    INFO] pilgram filter stage earlybird to apply (image_pipelinestages.py:22)
2024-09-24 23:57:35,576 [    INFO] 127.0.0.1:39199 - "GET /api/mediaprocessing/preview/c39aa522a43030f253f810dc393e9839/earlybird HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:57:35,579 [    INFO] pilgram filter stage gingham to apply (image_pipelinestages.py:22)
2024-09-24 23:57:35,587 [    INFO] 127.0.0.1:39204 - "GET /api/mediaprocessing/preview/c39aa522a43030f253f810dc393e9839/gingham HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:57:39,276 [    INFO] gallery_delete requested, id=c39aa522a43030f253f810dc393e9839 (mediacollection.py:26)
2024-09-24 23:57:39,276 [    INFO] request delete item id c39aa522a43030f253f810dc393e9839 (mediacollectionservice.py:174)
2024-09-24 23:57:39,276 [   DEBUG] found item=MediaItem Id: c39aa522a43030f253f810dc393e9839, filename 20240924-235734-738437.jpg (mediacollectionservice.py:179)
2024-09-24 23:57:39,276 [    INFO] request delete files of MediaItem Id: c39aa522a43030f253f810dc393e9839, filename 20240924-235734-738437.jpg (mediacollectionservice.py:196)
2024-09-24 23:57:39,276 [    INFO] moving MediaItem Id: c39aa522a43030f253f810dc393e9839, filename 20240924-235734-738437.jpg to recycle directory (mediacollectionservice.py:200)
2024-09-24 23:57:39,278 [    INFO] deleted files of MediaItem Id: c39aa522a43030f253f810dc393e9839, filename 20240924-235734-738437.jpg (mediacollectionservice.py:227)
2024-09-24 23:57:39,278 [   DEBUG] deleted mediaitem from db and files MediaItem Id: c39aa522a43030f253f810dc393e9839, filename 20240924-235734-738437.jpg (mediacollectionservice.py:187)
2024-09-24 23:57:39,279 [    INFO] 127.0.0.1:39204 - "POST /api/mediacollection/delete HTTP/1.1" 204 (h11_impl.py:476)
2024-09-24 23:57:39,287 [    INFO] 127.0.0.1:39204 - "GET /api/aquisition/stream.mjpg HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:57:39,287 [    INFO] livestream started on backend backend_to_stream_from=<class 'photobooth.services.backends.virtualcamera.VirtualCameraBackend'> (aquisitionservice.py:203)
2024-09-24 23:57:39,287 [    INFO] setting device enable_lores_flag from True to True on backend VirtualCameraBackend (abstractbackend.py:131)
2024-09-24 23:57:40,923 [    INFO] 127.0.0.1:39205 - "GET /assets/GalleryLayout-Bs5wuIhj.js HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:57:40,924 [    INFO] 127.0.0.1:39207 - "GET /assets/GalleryPage-MC8k7aNn.css HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:57:40,924 [    INFO] 127.0.0.1:39206 - "GET /assets/GalleryPage-BqRmvq2I.js HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:57:51,488 [    INFO] 127.0.0.1:39217 - "GET /api/admin/config/schema?schema_type=dereferenced HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:57:51,495 [    INFO] 127.0.0.1:39217 - "GET /api/admin/config/currentActive HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:57:57,835 [   DEBUG] persist config to json file (appconfig.py:176)
2024-09-24 23:57:57,837 [    INFO] 127.0.0.1:39222 - "POST /api/admin/config/current HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:57:57,841 [    INFO] 127.0.0.1:39222 - "GET /api/admin/config/currentActive HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:59:36,374 [   DEBUG] persist config to json file (appconfig.py:176)
2024-09-24 23:59:36,376 [    INFO] 127.0.0.1:39285 - "POST /api/admin/config/current HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:59:36,380 [    INFO] 127.0.0.1:39285 - "GET /api/admin/config/currentActive HTTP/1.1" 200 (h11_impl.py:476)
2024-09-24 23:59:59,137 [    INFO] shutting down app via signal handler (application.py:41)
2024-09-24 23:59:59,137 [    INFO] FileTransferService stopped. (filtetransferservice.py:43)
2024-09-24 23:59:59,137 [    INFO] stopped FileTransferService (container.py:98)
2024-09-24 23:59:59,138 [    INFO] stopped QrShareService (container.py:98)
2024-09-24 23:59:59,138 [    INFO] stopped GpioService (container.py:98)
2024-09-24 23:59:59,138 [    INFO] stopped ShareService (container.py:98)
2024-09-24 23:59:59,138 [    INFO] stopped SystemService (container.py:98)
2024-09-24 23:59:59,138 [    INFO] stopped ProcessingService (container.py:98)
2024-09-24 23:59:59,138 [    INFO] stopped InformationService (container.py:98)
2024-09-24 23:59:59,139 [    INFO] stopped MediacollectionService (container.py:98)
2024-09-24 23:59:59,139 [    INFO] stopped MediaprocessingService (container.py:98)
2024-09-24 23:59:59,139 [    INFO] no _video_worker_thread active that could be stopped (abstractbackend.py:387)
2024-09-24 23:59:59,929 [    INFO] exit connection supervisor function, stopping device (abstractbackend.py:197)
2024-09-24 23:59:59,933 [    INFO] virtualcamera thread finished (virtualcamera.py:149)
2024-09-24 23:59:59,933 [   DEBUG] photobooth.services.backends.virtualcamera stopped (virtualcamera.py:67)
2024-09-25 00:00:00,406 [    INFO] stopped AquisitionService (container.py:98)
2024-09-25 00:00:00,406 [    INFO] stopped WledService (container.py:98)
2024-09-25 00:00:00,406 [    INFO] stopped LoggingService (container.py:98)
2024-09-25 00:00:00,409 [    INFO] Shutting down (server.py:258)
2024-09-25 00:00:00,409 [   DEBUG] SSE subscription remove for Address(host='127.0.0.1', port=38857) requested (sseservice.py:231)
2024-09-25 00:00:00,409 [   DEBUG] SSE subscription removed for Address(host='127.0.0.1', port=38857) (sseservice.py:237)
2024-09-25 00:00:00,409 [   DEBUG] SSE clients listed [] (sseservice.py:243)
2024-09-25 00:00:00,410 [    INFO] Disconnected from client Address(host='127.0.0.1', port=38857) (sseservice.py:284)
2024-09-25 00:00:00,410 [   ERROR] ASGI callable returned without completing response. (h11_impl.py:427)
2024-09-25 00:00:00,515 [    INFO] Finished server process [11280] (server.py:92)
2024-09-25 00:00:00,550 [   ERROR] Traceback (most recent call last):
  File "D:\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Python311\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "D:\Python311\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\vscode-files\cpre_openhouse\env\Lib\site-packages\starlette\routing.py", line 700, in lifespan
    await receive()
  File "D:\vscode-files\cpre_openhouse\env\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\Python311\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError
 (on.py:134)
